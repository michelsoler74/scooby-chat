<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scooby - Tu Amigo Virtual Premium</title>
    <!-- Estilos Externos -->
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <!-- Animaci贸n de fondo decorativa -->
    <div class="bg-decoration">
      <span class="paw-print"></span>
      <span class="paw-print"></span>
      <span class="paw-print"></span>
    </div>

    <!-- Header Premium -->
    <header class="header">
      <h1> Scooby - Tu Amigo Virtual Υ</h1>
      <button class="config-btn" onclick="toggleConfig()" title="Configuraci贸n">锔</button>
    </header>

    <!-- Contenedor Principal -->
    <main class="main-container">
      <!-- Secci贸n del Chat -->
      <section class="chat-section">
        <div class="chat-header">
          <div class="status-indicator"></div>
          <span id="connection-status">Scooby Chat</span>
        </div>

        <div class="chat-messages" id="chatMessages">
          <!-- Los mensajes se cargan din谩micamente -->
        </div>

        <div class="input-section">
          <div class="input-wrapper">
            <input
              type="text"
              class="message-input"
              id="messageInput"
              placeholder="Preg煤ntame lo que quieras..."
            />
            <button class="btn send-btn" id="sendBtn">
              <span>Enviar</span> 
            </button>
          </div>

          <div class="control-buttons">
            <button class="btn voice-btn" id="voiceBtn">
               Grabar
            </button>
            <button class="btn cancel-btn" id="cancelBtn">
               Parar
            </button>
            <button class="btn clear-btn" id="clearBtn">
              Ч Limpiar
            </button>
          </div>

          <div class="suggestions" id="suggestions">
            <!-- Sugerencias din谩micas -->
          </div>
        </div>
      </section>

      <!-- Secci贸n del Avatar -->
      <aside class="avatar-section">
        <div class="avatar-container">
          <div class="avatar-center">
            <div class="scooby-avatar" id="scoobyAvatar">
              <!-- Avatar SVG Animado -->
              <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur stdDeviation="4" result="coloredBlur" />
                    <feMerge>
                      <feMergeNode in="coloredBlur" />
                      <feMergeNode in="SourceGraphic" />
                    </feMerge>
                  </filter>
                  <linearGradient id="eyeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stop-color="#00d2ff" />
                    <stop offset="100%" stop-color="#3a7bd5" />
                  </linearGradient>
                </defs>

                <!-- Sombra -->
                <ellipse cx="200" cy="380" rx="120" ry="20" fill="rgba(0,0,0,0.1)" />

                <g transform="translate(0, -20)">
                  <!-- Cabeza principal -->
                  <path d="M 120,100 C 50,100 20,180 20,250 C 20,320 80,350 120,350 L 280,350 C 320,350 380,320 380,250 C 380,180 350,100 280,100 Z" fill="#E5E7EB" />
                  <path d="M 125,100 C 60,100 30,170 30,240 C 30,310 85,340 125,340 L 275,340 C 315,340 370,310 370,240 C 370,170 340,100 275,100 Z" fill="#F3F4F6" stroke="#D1D5DB" stroke-width="2" />

                  <!-- Orejas -->
                  <g>
                    <path d="M 60,120 C 10,140 0,220 30,260 C 40,280 70,260 60,220 C 50,180 80,140 60,120 Z" fill="#E5E7EB" />
                    <path d="M 55,125 C 20,145 10,215 35,250 C 45,265 65,250 55,220 C 48,190 75,150 55,125 Z" fill="#1E40AF" opacity="0.7" />
                  </g>
                  <g transform="translate(340, 0) scale(-1, 1) translate(-60, 0)">
                    <path d="M 60,120 C 10,140 0,220 30,260 C 40,280 70,260 60,220 C 50,180 80,140 60,120 Z" fill="#E5E7EB" />
                    <path d="M 55,125 C 20,145 10,215 35,250 C 45,265 65,250 55,220 C 48,190 75,150 55,125 Z" fill="#1E40AF" opacity="0.7" />
                  </g>

                  <!-- Ojos -->
                  <g>
                    <circle id="leftEyeOuter" cx="130" cy="200" r="45" fill="url(#eyeGradient)" />
                    <circle cx="130" cy="200" r="40" fill="#020617" />
                    <circle cx="140" cy="190" r="10" fill="white" opacity="0.9" />
                  </g>
                  <g>
                    <circle id="rightEyeOuter" cx="270" cy="200" r="45" fill="url(#eyeGradient)" />
                    <circle cx="270" cy="200" r="40" fill="#020617" />
                    <circle cx="280" cy="190" r="10" fill="white" opacity="0.9" />
                  </g>

                  <!-- Nariz -->
                  <path d="M 200,240 C 180,240 180,260 200,260 C 220,260 220,240 200,240 Z" fill="#1F2937" />

                  <!-- Boca -->
                  <g>
                    <path d="M 170 280 Q 200 290 230 280" stroke="#9CA3AF" stroke-width="2" fill="none" />
                    <path id="mouthPath" d="M 190 295 L 210 295" stroke="#4B5563" stroke-width="3" fill="none" stroke-linecap="round" />
                  </g>
                </g>
              </svg>
            </div>
            <div class="thought-bubble" id="thoughtBubble">
              隆Estoy pensando! 
            </div>
            <div class="status-info text-center mt-1">
              <h3 id="scoobyStatus"> Listo</h3>
              <p id="betaIndicator" class="hidden accent-bold"> MODO BETA</p>
            </div>
          </div>
        </div>
      </aside>
    </main>

    <!-- Modal de Configuraci贸n -->
    <div class="config-modal" id="configModal">
      <div class="config-content">
        <h2 class="config-title">锔 Configuraci贸n</h2>
        <div class="mb-md">
          <label for="webhookUrl" class="block mb-sm">URL del Webhook de n8n:</label>
          <input type="text" class="message-input w-full" id="webhookUrl" placeholder="https://tu-n8n.com/...">
        </div>
        <button class="btn send-btn w-full" id="saveConfigBtn">
          Guardar Configuraci贸n
        </button>
        <button class="btn cancel-btn w-full mt-sm" id="cancelConfigBtn">
          Cancelar
        </button>
      </div>
    </div>

    <!-- Scripts Externos -->
    <script src="app.js"></script>
  </body>
</html>
